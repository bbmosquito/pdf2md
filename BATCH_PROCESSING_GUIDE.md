# PDF2MD æ‰¹é‡è½¬æ¢å¤„ç†æ–¹å¼è¯´æ˜

**ç‰ˆæœ¬**: v1.1.2
**æ—¥æœŸ**: 2025-01-13

---

## ğŸ“‹ å¤„ç†æµç¨‹æ¦‚è¿°

å½“å‰ç‰ˆæœ¬ï¼ˆv1.1.2ï¼‰å¯¹ä¸€æ¬¡æ€§æäº¤å¤šä¸ªPDFçš„æ‰¹é‡è½¬æ¢é‡‡ç”¨ä»¥ä¸‹å¤„ç†æ–¹å¼ï¼š

```
ç”¨æˆ·æäº¤ â†’ ä»»åŠ¡é˜Ÿåˆ— â†’ æ™ºèƒ½å†…å­˜æ£€æŸ¥ â†’ å¹¶è¡Œå¤„ç† â†’ è¿›åº¦è·Ÿè¸ª â†’ å®Œæˆæ±‡æ€»
```

---

## ğŸ”„ è¯¦ç»†å¤„ç†æµç¨‹

### ç¬¬1æ­¥ï¼šä»»åŠ¡æ”¶é›†ä¸é˜Ÿåˆ—ç®¡ç†

**ä»£ç ä½ç½®**: `src/batch/task_queue.py`

```python
# 1. åˆ›å»ºä»»åŠ¡é˜Ÿåˆ—
queue = TaskQueue()

# 2. ä»ç›®å½•æ‰«ææ‰€æœ‰PDFæ–‡ä»¶
queue.add_from_directory(
    directory="./pdfs",
    pattern="*.pdf",      # å¯è‡ªå®šä¹‰æ–‡ä»¶åŒ¹é…æ¨¡å¼
    recursive=False,     # æ˜¯å¦é€’å½’æœç´¢å­ç›®å½•
    output_dir=None       # è¾“å‡ºç›®å½•ï¼ˆNoneè¡¨ç¤ºé»˜è®¤ï¼‰
)
```

**è¡Œä¸º**:
- âœ… æ‰«ææŒ‡å®šç›®å½•ä¸­çš„æ‰€æœ‰ PDF æ–‡ä»¶
- âœ… æ”¯æŒé€šé…ç¬¦æ¨¡å¼ï¼ˆå¦‚ `chapter_*.pdf`ï¼‰
- âœ… æ”¯æŒé€’å½’æœç´¢å­ç›®å½•
- âœ… ä¸ºæ¯ä¸ª PDF åˆ›å»ºä¸€ä¸ªè½¬æ¢ä»»åŠ¡
- âœ… æŒ‰ä¼˜å…ˆçº§æ’åºï¼ˆé»˜è®¤æ‰€æœ‰ä»»åŠ¡ä¼˜å…ˆçº§ç›¸åŒï¼‰

**ç¤ºä¾‹**:
```bash
# è½¬æ¢ ./pdfs ç›®å½•ä¸‹æ‰€æœ‰PDF
python pdf2md.py batch ./pdfs

# é€’å½’è½¬æ¢æ‰€æœ‰å­ç›®å½•
python pdf2md.py batch ./pdfs --recursive

# åªè½¬æ¢ç‰¹å®šæ¨¡å¼çš„æ–‡ä»¶
python pdf2md.py batch ./pdfs --pattern "report*.pdf"
```

---

### ç¬¬2æ­¥ï¼šæ™ºèƒ½å†…å­˜æ£€æŸ¥ï¼ˆv1.1.2 æ–°åŠŸèƒ½ï¼‰â­

**ä»£ç ä½ç½®**: `src/batch/batch_processor.py:73-87`

```python
# æ£€æŸ¥ç³»ç»Ÿå†…å­˜çŠ¶æ€
mem_manager = MemoryManager()
mem_info = mem_manager.get_memory_info()

# æ ¹æ®å†…å­˜å‹åŠ›åŠ¨æ€è°ƒæ•´workersæ•°é‡
actual_workers = max_workers
if mem_info.get("pressure") == "critical":
    actual_workers = 1  # å†…å­˜ä¸¥é‡ä¸è¶³ï¼Œé¡ºåºå¤„ç†
    logger.warning("Critical memory pressure! Reducing workers to 1")
elif mem_info.get("pressure") == "high":
    actual_workers = max(1, max_workers // 2)  # å†…å­˜ç´§å¼ ï¼Œå‡åŠ
    logger.warning(f"High memory pressure! Reducing workers to {actual_workers}")
```

**å†…å­˜å‹åŠ›çº§åˆ«ä¸Workersè°ƒæ•´**:

| ç³»ç»Ÿå†…å­˜å‹åŠ› | ç³»ç»Ÿä½¿ç”¨ç‡ | Workersç­–ç•¥ | ç¤ºä¾‹ï¼ˆmax_workers=2ï¼‰ |
|------------|-----------|------------|---------------------|
| Low | <50% | é»˜è®¤workers | 2 |
| Medium | 50-75% | é»˜è®¤workers | 2 |
| High | 75-90% | workerså‡åŠ | 1 |
| Critical | >90% | 1ä¸ªworkerï¼ˆé¡ºåºï¼‰ | 1 |

**å®é™…æ¡ˆä¾‹**ï¼ˆæ¥è‡ªæ‚¨çš„é”™è¯¯æ—¥å¿—ï¼‰:
```
åŸå§‹æƒ…å†µ: max_workers=2
å†…å­˜çŠ¶æ€: Process: 73GB, System: 90.2%, Pressure: critical

v1.1.2è¡Œä¸º:
â†’ è‡ªåŠ¨å°† workers ä» 2 é™ä½åˆ° 1
â†’ é¡ºåºå¤„ç†ï¼Œé¿å…å†…å­˜è€—å°½
â†’ æ—¥å¿—: "Critical memory pressure detected! Reducing workers to 1"
```

---

### ç¬¬3æ­¥ï¼šå¹¶è¡Œå¤„ç†ï¼ˆThreadPoolExecutorï¼‰

**ä»£ç ä½ç½®**: `src/batch/batch_processor.py:90-120`

```python
# ä½¿ç”¨çº¿ç¨‹æ± å¹¶è¡Œå¤„ç†
with ThreadPoolExecutor(max_workers=actual_workers) as executor:
    # 3.1 æäº¤æ‰€æœ‰ä»»åŠ¡åˆ°çº¿ç¨‹æ± 
    futures = {}
    for task in queue.get_pending():
        future = executor.submit(self._process_task, task)
        futures[future] = task

    # 3.2 ç­‰å¾…ä»»åŠ¡å®Œæˆï¼ˆas_completedæŒ‰å®Œæˆé¡ºåºè¿”å›ï¼‰
    for future in as_completed(futures):
        task = futures[future]
        result = future.result()  # è·å–è½¬æ¢ç»“æœ
        # ... å¤„ç†ç»“æœ ...
```

**å¤„ç†æ–¹å¼**:

**åœºæ™¯1: 2ä¸ªWorkersï¼ˆå¹¶è¡Œå¤„ç†ï¼‰**
```
æ—¶é—´çº¿:
â”œâ”€ Worker1: å¤„ç† PDF1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”œâ”€ Worker2: å¤„ç† PDF2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”œâ”€ PDF1å®Œæˆ â†’ å›è°ƒ â†’ è¿›åº¦+1
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”œâ”€ PDF2å®Œæˆ â†’ å›è°ƒ â†’ è¿›åº¦+1
                                      â””â”€ ç»§ç»­å¤„ç† PDF3, PDF4...
```

**åœºæ™¯2: 1ä¸ªWorkerï¼ˆé¡ºåºå¤„ç†ï¼‰**
```
æ—¶é—´çº¿:
â””â”€ Worker1: PDF1 â”€â†’ PDF2 â”€â†’ PDF3 â”€â†’ PDF4...
              â†“       â†“       â†“
            å®Œæˆ    å®Œæˆ    å®Œæˆ
```

**å…³é”®ç‰¹æ€§**:
- âœ… `as_completed`: å…ˆå®Œæˆçš„ä»»åŠ¡å…ˆè¿”å›ï¼ˆä¸æŒ‰æäº¤é¡ºåºï¼‰
- âœ… çº¿ç¨‹å®‰å…¨ï¼šä½¿ç”¨ `Lock()` ä¿æŠ¤å…±äº«å˜é‡
- âœ… é”™è¯¯éš”ç¦»ï¼šå•ä¸ªä»»åŠ¡å¤±è´¥ä¸å½±å“å…¶ä»–ä»»åŠ¡
- âœ… å®æ—¶è¿›åº¦ï¼šæ¯ä¸ªä»»åŠ¡å®Œæˆåç«‹å³æ›´æ–°è¿›åº¦æ¡

---

### ç¬¬4æ­¥ï¼šå®æ—¶è¿›åº¦è·Ÿè¸ª

**ä»£ç ä½ç½®**: `src/cli.py:337-362`

```python
# ä½¿ç”¨Richè¿›åº¦æ¡æ˜¾ç¤ºè¿›åº¦
with Progress(
    SpinnerColumn(),
    TextColumn("[progress.description]{task.description}"),
    BarColumn(),
    TaskProgressColumn(),
    TextColumn("{task.completed}/{task.total}"),  # æ˜¾ç¤º X/30
    console=console,
    refresh_per_second=10
) as progress:

    task = progress.add_task("Converting PDFs...", total=queue.pending_count)

    def progress_callback(current, total, message):
        # æ›´æ–°è¿›åº¦æ¡
        new_completed = current - completed_count[0]
        if new_completed > 0:
            progress.update(task, advance=new_completed)
            completed_count[0] = current

    results = processor.process(queue, progress_callback)
```

**è¿›åº¦æ˜¾ç¤ºæ•ˆæœ**:
```
Found 28 PDF file(s) to convert

âœ“ å®Œæˆ: æ–‡ä»¶1.pdf
âœ“ å®Œæˆ: æ–‡ä»¶2.pdf
  Converting PDFs... â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  20% 6/28
âœ“ å®Œæˆ: æ–‡ä»¶3.pdf
  Converting PDFs... â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  40% 12/28
...
```

---

### ç¬¬5æ­¥ï¼šå†…å­˜æ¸…ç†ï¼ˆv1.1.2 æ–°åŠŸèƒ½ï¼‰â­

**ä»£ç ä½ç½®**:
- `src/batch/batch_processor.py:158-161`
- `src/core/converter.py:372-374`

```python
finally:
    # æ¯ä¸ªä»»åŠ¡å®Œæˆåå¼ºåˆ¶åƒåœ¾å›æ”¶
    import gc
    gc.collect()
```

**æ‰§è¡Œæ—¶æœº**:
1. âœ… æ¯ä¸ªPDFè½¬æ¢å®Œæˆåï¼ˆ`batch_processor.py`ï¼‰
2. âœ… æ¯ä¸ªæ–‡ä»¶ä¿å­˜Markdownåï¼ˆ`converter.py`ï¼‰

**æ•ˆæœ**:
```
ä»»åŠ¡1å®Œæˆ â†’ 73GBå†…å­˜ â†’ åƒåœ¾å›æ”¶ â†’ å†…å­˜é‡Šæ”¾ â†’ ç³»ç»Ÿå¯ç”¨
ä»»åŠ¡2å¼€å§‹ â†’ å†…å­˜å……è¶³ â†’ æ­£å¸¸å¤„ç† â†’ ...
```

---

### ç¬¬6æ­¥ï¼šç»“æœæ±‡æ€»

**ä»£ç ä½ç½®**: `src/cli.py:369-392`

```python
# æ‰¹å¤„ç†å®Œæˆï¼Œæ˜¾ç¤ºæ±‡æ€»ä¿¡æ¯
summary = processor.get_summary()

console.print(Panel.fit(
    f"[bold]Batch Conversion Complete[/bold]\n\n"
    f"Total: {summary['total']}\n"
    f"[green]Successful: {summary['successful']}[/green]\n"
    f"[red]Failed: {summary['failed']}[/red]\n"
    f"Total Pages: {summary['total_pages']}\n"
    f"Total Images: {summary['total_images']}\n"
    f"Total Duration: {summary['total_duration']:.1f}s",
    title="Summary",
    border_style="cyan"
))

# æ˜¾ç¤ºå¤±è´¥çš„æ–‡ä»¶
if failed_results:
    console.print("\n[red]Failed conversions:[/red]")
    for result in failed_results:
        console.print(f"  â€¢ {filename}: {result.error_message}")
```

**ç¤ºä¾‹è¾“å‡º**:
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                 Batch Conversion Complete                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Total: 28                                                     â•‘
â•‘ Successful: 27                                                â•‘
â•‘ Failed: 1                                                     â•‘
â•‘ Total Pages: 8,456                                            â•‘
â•‘ Total Images: 152                                             â•‘
â•‘ Total Duration: 3,245.6s                                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Failed conversions:
  â€¢ How to Listen...pdf: [Errno 2] No such file or directory
```

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§æ€»ç»“

### 1. æ™ºèƒ½å¹¶è¡Œå¤„ç†

**æ ¹æ®å†…å­˜å‹åŠ›è‡ªåŠ¨è°ƒæ•´**:
- å†…å­˜å……è¶³ â†’ å¹¶è¡Œå¤„ç†ï¼ˆ2ä¸ªworkersï¼‰
- å†…å­˜ç´§å¼  â†’ å‡å°‘å¹¶è¡Œï¼ˆ1ä¸ªworkerï¼‰
- å†…å­˜ä¸è¶³ â†’ é¡ºåºå¤„ç†ï¼ˆé¿å…å´©æºƒï¼‰

### 2. ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†

**å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰**:
- æ‰€æœ‰ä»»åŠ¡åŒæ—¶æäº¤åˆ°çº¿ç¨‹æ± 
- å…ˆå®Œæˆçš„ä»»åŠ¡å…ˆè¿”å›ï¼ˆ`as_completed`ï¼‰
- ä¸æŒ‰æ–‡ä»¶åæ’åºï¼ŒæŒ‰å®Œæˆé¡ºåº

### 3. é”™è¯¯éš”ç¦»

**å•ä¸ªå¤±è´¥ä¸å½±å“å…¨å±€**:
```
PDF1 â†’ æˆåŠŸ âœ…
PDF2 â†’ å¤±è´¥ âŒ â†’ è®°å½•é”™è¯¯ï¼Œç»§ç»­å¤„ç†
PDF3 â†’ æˆåŠŸ âœ…
PDF4 â†’ æˆåŠŸ âœ…
...
æœ€åæ±‡æ€»: 27æˆåŠŸ, 1å¤±è´¥
```

### 4. å®æ—¶è¿›åº¦åé¦ˆ

**Richè¿›åº¦æ¡**:
- æ˜¾ç¤ºå·²å®Œæˆ/æ€»æ•°ï¼ˆå¦‚ 6/28ï¼‰
- æ˜¾ç¤ºè¿›åº¦ç™¾åˆ†æ¯”ï¼ˆå¦‚ 40%ï¼‰
- æ˜¾ç¤ºå›¾å½¢åŒ–è¿›åº¦æ¡
- æ¯ä¸ªæ–‡ä»¶å®Œæˆåå³æ—¶æ›´æ–°

### 5. å†…å­˜ç®¡ç†

**v1.1.2 æ–°å¢**:
- å¤„ç†å‰æ£€æŸ¥å†…å­˜çŠ¶æ€
- åŠ¨æ€è°ƒæ•´workersæ•°é‡
- æ¯ä¸ªä»»åŠ¡åå¼ºåˆ¶åƒåœ¾å›æ”¶
- é˜²æ­¢å†…å­˜ç´¯ç§¯è€—å°½

---

## ğŸ“Š å¤„ç†ç¤ºä¾‹

### ç¤ºä¾‹1: å°æ–‡ä»¶æ‰¹é‡ï¼ˆå†…å­˜å……è¶³ï¼‰

**è¾“å…¥**: 10ä¸ªå°æ–‡ä»¶ï¼ˆæ¯ä¸ª<50é¡µï¼‰ï¼Œç³»ç»Ÿå†…å­˜å……è¶³

**å¤„ç†æµç¨‹**:
```
1. ä»»åŠ¡é˜Ÿåˆ—: 10ä¸ªä»»åŠ¡
2. å†…å­˜æ£€æŸ¥: Pressure=low, workers=2
3. å¹¶è¡Œå¤„ç†:
   - Worker1: PDF1, PDF3, PDF5, PDF7, PDF9
   - Worker2: PDF2, PDF4, PDF6, PDF8, PDF10
4. å®Œæˆ: 10/10 æˆåŠŸ
```

**æ—¶é—´**: çº¦5åˆ†é’Ÿï¼ˆå¹¶è¡ŒåŠ é€Ÿï¼‰

---

### ç¤ºä¾‹2: å¤§æ–‡ä»¶æ‰¹é‡ï¼ˆå†…å­˜ç´§å¼ ï¼‰

**è¾“å…¥**: 28ä¸ªå¤§æ–‡ä»¶ï¼ˆåŒ…å«349é¡µæ–‡ä»¶ï¼‰ï¼Œç³»ç»Ÿå†…å­˜ç´§å¼ 

**å¤„ç†æµç¨‹**:
```
1. ä»»åŠ¡é˜Ÿåˆ—: 28ä¸ªä»»åŠ¡
2. å†…å­˜æ£€æŸ¥: Pressure=critical, workers=1 âœ…v1.1.2è‡ªåŠ¨è°ƒæ•´
3. é¡ºåºå¤„ç†:
   - Worker1: PDF1 â†’ å®Œæˆ â†’ é‡Šæ”¾å†…å­˜
   - Worker1: PDF2 â†’ å®Œæˆ â†’ é‡Šæ”¾å†…å­˜
   - Worker1: PDF3 â†’ å®Œæˆ â†’ é‡Šæ”¾å†…å­˜
   - ...
4. å®Œæˆ: 27/28æˆåŠŸï¼ˆ1ä¸ªå¤±è´¥ï¼‰
```

**æ—¶é—´**: çº¦55åˆ†é’Ÿï¼ˆé¡ºåºå¤„ç†ï¼Œä½†ç¨³å®šä¸å´©æºƒï¼‰

**å¦‚æœæ²¡æœ‰v1.1.2çš„ä¿®å¤**:
```
âŒ workers=2
âŒ PDF1 (73GB) + PDF2å¹¶è¡Œ â†’ å†…å­˜è€—å°½ â†’ std::bad_alloc â†’ å´©æºƒ
```

---

## ğŸš€ ä½¿ç”¨å»ºè®®

### æ–¹å¼1: è‡ªåŠ¨æ¨¡å¼ï¼ˆæ¨èï¼‰âœ¨

```bash
python pdf2md.py batch ./pdfs
```

**ä¼˜ç‚¹**:
- âœ… ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹å†…å­˜å‹åŠ›
- âœ… è‡ªåŠ¨è°ƒæ•´workersæ•°é‡
- âœ… æœ€ç¨³å®šå¯é 

### æ–¹å¼2: æ‰‹åŠ¨æŒ‡å®š1ä¸ªWorker

**é€‚ç”¨äºå¤§æ–‡ä»¶ï¼ˆ>200é¡µï¼‰**

```bash
python pdf2md.py batch ./pdfs --workers 1
```

**ä¼˜ç‚¹**:
- âœ… é¡ºåºå¤„ç†ï¼Œé¿å…å†…å­˜é—®é¢˜
- âœ… æœ€ç¨³å®š
- âœ… æ¨èï¼

### æ–¹å¼3: æ‰‹åŠ¨æŒ‡å®šå¤šä¸ªWorkers

**é€‚ç”¨äºå°æ–‡ä»¶ï¼ˆ<50é¡µï¼‰ä¸”å†…å­˜å……è¶³**

```bash
python pdf2md.py batch ./pdfs --workers 4
```

**æ³¨æ„**:
- âš ï¸ éœ€è¦ç¡®ä¿ç³»ç»Ÿå†…å­˜å……è¶³
- âš ï¸ é€‚åˆå°æ–‡ä»¶æ‰¹é‡å¤„ç†

---

## ğŸ”§ é…ç½®é€‰é¡¹

### å‘½ä»¤è¡Œé€‰é¡¹

```bash
python pdf2md.py batch [OPTIONS] DIRECTORY

é€‰é¡¹:
  -o, --output DIR          è¾“å‡ºç›®å½•
  --pattern GLOB            æ–‡ä»¶åŒ¹é…æ¨¡å¼ï¼ˆé»˜è®¤: *.pdfï¼‰
  -r, --recursive          é€’å½’æœç´¢å­ç›®å½•
  -w, --workers INT         å¹¶è¡Œworkersæ•°é‡ï¼ˆé»˜è®¤: è‡ªåŠ¨æ£€æµ‹ï¼‰
  --ocr/--no-ocr            å¯ç”¨/ç¦ç”¨OCR
```

### ç¤ºä¾‹

```bash
# åŸºæœ¬ç”¨æ³•
python pdf2md.py batch ./pdfs

# æŒ‡å®šè¾“å‡ºç›®å½•
python pdf2md.py batch ./pdfs -o ./markdown

# é€’å½’å¤„ç†å­ç›®å½•
python pdf2md.py batch ./documents --recursive

# åªå¤„ç†ç‰¹å®šæ–‡ä»¶
python pdf2md.py batch ./pdfs --pattern "chapter_*.pdf"

# ä½¿ç”¨1ä¸ªworkerï¼ˆæ¨èå¤§æ–‡ä»¶ï¼‰
python pdf2md.py batch ./pdfs --workers 1

# ä½¿ç”¨4ä¸ªworkersï¼ˆå°æ–‡ä»¶ï¼Œå†…å­˜å……è¶³ï¼‰
python pdf2md.py batch ./pdfs --workers 4
```

---

## âš¡ æ€§èƒ½å¯¹æ¯”

### åœºæ™¯: 28ä¸ªPDFæ–‡ä»¶ï¼ˆåŒ…å«å¤§æ–‡ä»¶ï¼‰

| Workers | å¤„ç†æ–¹å¼ | å†…å­˜ä½¿ç”¨ | ç»“æœ |
|---------|---------|---------|------|
| 2 | å¹¶è¡Œ | 73GB + ç´¯ç§¯ | âŒ å†…å­˜è€—å°½ï¼Œå´©æºƒ |
| 1 | é¡ºåº | 73GB â†’ é‡Šæ”¾ | âœ… æˆåŠŸå®Œæˆ |

**ç»“è®º**: å¯¹äºå¤§æ–‡ä»¶ï¼Œä½¿ç”¨1ä¸ªworkerè™½ç„¶æ…¢ä¸€äº›ï¼Œä½†èƒ½ä¿è¯å®Œæˆã€‚

---

## ğŸ“ æ€»ç»“

### å½“å‰ç‰ˆæœ¬ï¼ˆv1.1.2ï¼‰çš„å¤„ç†æ–¹å¼

1. âœ… **ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†**: æ‰€æœ‰PDFæ–‡ä»¶ä¸€æ¬¡æ€§åŠ å…¥é˜Ÿåˆ—
2. âœ… **æ™ºèƒ½å†…å­˜æ£€æŸ¥**: è‡ªåŠ¨æ£€æµ‹å†…å­˜å‹åŠ›å¹¶è°ƒæ•´workers
3. âœ… **å¹¶è¡Œå¤„ç†**: ä½¿ç”¨ThreadPoolExecutorå¹¶è¡Œæ‰§è¡Œ
4. âœ… **å®æ—¶è¿›åº¦**: Richè¿›åº¦æ¡æ˜¾ç¤ºå®æ—¶è¿›åº¦
5. âœ… **å†…å­˜æ¸…ç†**: æ¯ä¸ªä»»åŠ¡å®Œæˆåé‡Šæ”¾å†…å­˜
6. âœ… **é”™è¯¯éš”ç¦»**: å•ä¸ªå¤±è´¥ä¸å½±å“æ•´ä½“
7. âœ… **ç»“æœæ±‡æ€»**: å®Œæˆåæ˜¾ç¤ºè¯¦ç»†ç»Ÿè®¡

### æ ¸å¿ƒä¼˜åŠ¿

- âœ… **è‡ªåŠ¨åŒ–**: ç³»ç»Ÿè‡ªåŠ¨è°ƒæ•´ï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„
- âœ… **ç¨³å®šæ€§**: é¿å…å†…å­˜è€—å°½å´©æºƒ
- âœ… **å¯è§†åŒ–**: æ¸…æ™°çš„è¿›åº¦æ˜¾ç¤º
- âœ… **å®¹é”™æ€§**: éƒ¨åˆ†å¤±è´¥ä¸å½±å“å…¨å±€

---

**æ¨èä½¿ç”¨**:
```bash
python pdf2md.py batch ./pdfs --workers 1
```

æœ€ç¨³å®šå¯é ï¼Œç‰¹åˆ«æ˜¯å¤„ç†å¤§æ–‡ä»¶æ—¶ï¼
